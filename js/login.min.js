(function(){let e=document.querySelector(".userName"),t=document.querySelector(".userPass"),n=document.querySelector(".submit"),i=document.querySelector(".userNameWarning"),r=document.querySelector(".userPassWarning");n.onclick=async function(){let n=e.value.trim(),u=t.value.trim();if(0===n.length)return i.innerText="账号输入有误, 请重新输入 (用户名/手机号/邮箱)",void(r.innerText="");if(0===u.length)return i.innerText="",void(r.innerText="密码输入有误, 请重新输入 (6到16位)");let o=/^(\w{2,16})?([\u4E00-\u9FA5]{2,10}(·[\u4E00-\u9FA5]{1,10})?)?$/,d=/^1\d{10}$/,a=/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,s=/^\w{6,16}$/;if(!(o.test(n)||d.test(n)||a.test(n)||s.test(u)))return i.innerText="账号输入有误, 请重新输入 (用户名/手机号/邮箱)",void(r.innerText="密码输入有误, 请重新输入 (6到16位)");if(!o.test(n)&&!d.test(n)&&!a.test(n))return r.innerText="",void(i.innerText="账号输入有误, 请重新输入 (用户名/手机号/邮箱)");if(!s.test(u))return i.innerText="",void(r.innerText="密码输入有误, 请重新输入 (6到16位)");u=md5(u);let c=await axios.post("/user/login",{account:n,password:u});if(console.log(c.code),1==+c.code)return i.innerText="账号输入有误, 请重新输入 (用户名/手机号/邮箱)",void(r.innerText="密码输入有误, 请重新输入 (6到16位)");i.innerText="",r.innerText="";let l=()=>location.href="main.html",m=function(e,t){setTimeout(()=>{e()},t)};m(l,0)}})(),function(){function e(){var e=document.getElementsByTagName("audio")[0],t=document.getElementById("audioPlayer");t.addEventListener("click",function(){e.addEventListener("timeupdate",function(){updateProgress(e)},!1),e.addEventListener("ended",function(){audioEnded()},!1),e.paused?e.play():e.pause()},!1)}document.addEventListener("DOMContentLoaded",function(){e()},!1)}();